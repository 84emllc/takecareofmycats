{"version":3,"sources":["main.js"],"names":["highlightCurrentMealTime","currentHour","Date","getHours","activeMeal","localStorage","getItem","activeButton","document","querySelector","click","querySelectorAll","forEach","timeElement","minutesUntil","targetTime","now","diff","Math","round","getMinutesUntil","timeString","time","period","split","hours","minutes","map","Number","date","setHours","parseTime","textContent","title","abs","init","tabButtons","tabContents","length","button","addEventListener","targetTab","this","getAttribute","btn","classList","remove","setAttribute","add","content","targetContent","getElementById","setItem","lastTab","lastButton","initTabs","element","style","transform","passive","fab","console","log","toLocaleTimeString","hour","minute","hour12","navigator","vibrate","initFAB","index","e","targetIndex","key","preventDefault","focus","initKeyboardNav","HTMLImageElement","prototype","img","hasAttribute","setInterval","readyState"],"mappings":"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","file":"main.min.js","sourcesContent":["/**\n * Main JavaScript for Take Care Of My Dogs\n * Handles tab switching, touch interactions, and progressive enhancements\n */\n\n(function() {\n    'use strict';\n\n    // Tab switching functionality\n    function initTabs() {\n        const tabButtons = document.querySelectorAll('.tab-btn');\n        const tabContents = document.querySelectorAll('.tab-content');\n\n        if (tabButtons.length === 0) return;\n\n        tabButtons.forEach(button => {\n            button.addEventListener('click', function() {\n                const targetTab = this.getAttribute('data-tab');\n\n                // Update active button\n                tabButtons.forEach(btn => {\n                    btn.classList.remove('active');\n                    btn.setAttribute('aria-selected', 'false');\n                });\n                this.classList.add('active');\n                this.setAttribute('aria-selected', 'true');\n\n                // Show corresponding tab content\n                tabContents.forEach(content => {\n                    content.classList.remove('active');\n                });\n\n                const targetContent = document.getElementById(targetTab);\n                if (targetContent) {\n                    targetContent.classList.add('active');\n                }\n\n                // Save preference to localStorage\n                localStorage.setItem('lastViewedTab', targetTab);\n            });\n        });\n\n        // Restore last viewed tab\n        const lastTab = localStorage.getItem('lastViewedTab');\n        if (lastTab) {\n            const lastButton = document.querySelector(`[data-tab=\"${lastTab}\"]`);\n            if (lastButton) {\n                lastButton.click();\n            }\n        }\n    }\n\n    // Touch feedback for mobile interactions\n    function initTouchFeedback() {\n        const touchElements = document.querySelectorAll('.supplement-card, .fab, .feeding-card');\n\n        touchElements.forEach(element => {\n            // Touch start\n            element.addEventListener('touchstart', function() {\n                this.style.transform = 'scale(0.98)';\n            }, { passive: true });\n\n            // Touch end\n            element.addEventListener('touchend', function() {\n                this.style.transform = '';\n            }, { passive: true });\n\n            // Touch cancel\n            element.addEventListener('touchcancel', function() {\n                this.style.transform = '';\n            }, { passive: true });\n        });\n    }\n\n    // Floating Action Button functionality\n    function initFAB() {\n        const fab = document.querySelector('.fab');\n        if (!fab) return;\n\n        fab.addEventListener('click', function() {\n            // Placeholder for FAB functionality\n            console.log('FAB clicked - Add new entry functionality to be implemented');\n\n            // Example: Show current time for feeding\n            const now = new Date();\n            const timeString = now.toLocaleTimeString('en-US', {\n                hour: 'numeric',\n                minute: '2-digit',\n                hour12: true\n            });\n\n            // Could show a modal or notification here\n            if ('vibrate' in navigator) {\n                navigator.vibrate(50); // Short vibration feedback on mobile\n            }\n        });\n    }\n\n\n    // Check if current meal time is active\n    function highlightCurrentMealTime() {\n        const now = new Date();\n        const currentHour = now.getHours();\n\n        let activeMeal = 'breakfast';\n        if (currentHour >= 11 && currentHour < 15) {\n            activeMeal = 'lunch';\n        } else if (currentHour >= 16 && currentHour < 20) {\n            activeMeal = 'dinner';\n        }\n\n        // Only auto-switch if user hasn't manually selected a tab\n        if (!localStorage.getItem('lastViewedTab')) {\n            const activeButton = document.querySelector(`[data-tab=\"${activeMeal}\"]`);\n            if (activeButton) {\n                activeButton.click();\n            }\n        }\n\n        // Update feeding times to show relative time\n        const feedingTimes = document.querySelectorAll('.feeding-time');\n        feedingTimes.forEach(timeElement => {\n            const timeText = timeElement.textContent;\n            const mealTime = parseTime(timeText);\n            const minutesUntil = getMinutesUntil(mealTime);\n\n            if (minutesUntil > 0 && minutesUntil <= 60) {\n                timeElement.title = `In ${minutesUntil} minutes`;\n            } else if (minutesUntil < 0 && minutesUntil >= -60) {\n                timeElement.title = `${Math.abs(minutesUntil)} minutes ago`;\n            }\n        });\n    }\n\n    // Helper function to parse time string\n    function parseTime(timeString) {\n        const [time, period] = timeString.split(' ');\n        let [hours, minutes] = time.split(':').map(Number);\n\n        if (period === 'PM' && hours !== 12) {\n            hours += 12;\n        } else if (period === 'AM' && hours === 12) {\n            hours = 0;\n        }\n\n        const date = new Date();\n        date.setHours(hours, minutes, 0, 0);\n        return date;\n    }\n\n    // Helper function to get minutes until a specific time\n    function getMinutesUntil(targetTime) {\n        const now = new Date();\n        const diff = targetTime - now;\n        return Math.round(diff / 60000);\n    }\n\n    // Add keyboard navigation support\n    function initKeyboardNav() {\n        const tabButtons = document.querySelectorAll('.tab-btn');\n\n        tabButtons.forEach((button, index) => {\n            button.addEventListener('keydown', function(e) {\n                let targetIndex = index;\n\n                if (e.key === 'ArrowLeft') {\n                    targetIndex = index - 1;\n                    if (targetIndex < 0) targetIndex = tabButtons.length - 1;\n                } else if (e.key === 'ArrowRight') {\n                    targetIndex = index + 1;\n                    if (targetIndex >= tabButtons.length) targetIndex = 0;\n                } else {\n                    return;\n                }\n\n                e.preventDefault();\n                tabButtons[targetIndex].focus();\n                tabButtons[targetIndex].click();\n            });\n        });\n    }\n\n    // Progressive enhancement for images\n    function initLazyImages() {\n        if ('loading' in HTMLImageElement.prototype) {\n            const images = document.querySelectorAll('img');\n            images.forEach(img => {\n                if (!img.hasAttribute('loading')) {\n                    img.setAttribute('loading', 'lazy');\n                }\n            });\n        }\n    }\n\n    // Service Worker registration (for offline support)\n    function registerServiceWorker() {\n        if ('serviceWorker' in navigator) {\n            navigator.serviceWorker.register('/sw.js').catch(function(error) {\n                // Service worker registration failed, app will still work online\n                console.log('Service Worker registration optional:', error);\n            });\n        }\n    }\n\n    // Initialize all features when DOM is ready\n    function init() {\n        initTabs();\n        initTouchFeedback();\n        initFAB();\n        initKeyboardNav();\n        initLazyImages();\n        highlightCurrentMealTime();\n\n        // Check meal times every minute\n        setInterval(highlightCurrentMealTime, 60000);\n    }\n\n    // Run initialization\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        init();\n    }\n\n})();"]}